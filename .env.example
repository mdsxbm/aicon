# AICG平台环境变量配置示例
# 复制此文件为 .env 并修改相应配置

# =============================================================================
# 应用基础配置
# =============================================================================
APP_NAME=AICG内容分发平台
ENVIRONMENT=development
DEBUG=true
API_V1_PREFIX=/api/v1

# =============================================================================
# 数据库配置
# =============================================================================
DATABASE_URL=postgresql+asyncpg://aicg_user:aicg_password@localhost:5432/aicg_platform
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_PRE_PING=true
DATABASE_POOL_RECYCLE=3600

# 同步数据库URL（用于Alembic迁移）
DATABASE_URL_SYNC=postgresql://aicg_user:aicg_password@localhost:5432/aicg_platform

# =============================================================================
# Redis配置
# =============================================================================
REDIS_URL=redis://:redis_password@localhost:6379/0

# Celery配置
CELERY_BROKER_URL=redis://:redis_password@localhost:6379/0
CELERY_RESULT_BACKEND=redis://:redis_password@localhost:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=UTC

# =============================================================================
# MinIO对象存储配置
# =============================================================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_BUCKET_NAME=aicg-platform
MINIO_SECURE=false

# 文件上传配置
MAX_UPLOAD_SIZE=100MB
ALLOWED_FILE_TYPES=["mp4", "avi", "mov", "mkv", "txt", "md", "pdf"]

# =============================================================================
# JWT认证配置
# =============================================================================
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production-please
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_ALGORITHM=HS256

# =============================================================================
# CORS配置
# =============================================================================
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080", "http://localhost:5173"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# =============================================================================
# 日志配置
# =============================================================================
LOG_LEVEL=INFO
STRUCTURED_LOGGING=true
LOG_FORMAT=json

# =============================================================================
# 监控配置
# =============================================================================
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# OpenTelemetry配置
OTEL_SERVICE_NAME=aicg-platform-backend
OTEL_RESOURCE_ATTRIBUTES=service.name=aicg-platform-backend,service.version=1.0.0

# =============================================================================
# 安全配置
# =============================================================================
ALLOWED_HOSTS=["localhost", "127.0.0.1", "0.0.0.0"]
SECURE_SSL_REDIRECT=false
SECURE_HSTS_SECONDS=0
SECURE_CONTENT_TYPE_NOSNIFF=true
SECURE_BROWSER_XSS_FILTER=true

# =============================================================================
# API限流配置
# =============================================================================
RATE_LIMIT_ENABLED=false
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# 开发工具配置
# =============================================================================
# 开发环境工具端口
PGADMIN_PORT=5050
REDIS_COMMANDER_PORT=8081
FLOWER_PORT=5555

# =============================================================================
# 生产环境特定配置
# =============================================================================
# SENTRY_DSN=your-sentry-dsn-here
# AIRBRAKE_PROJECT_ID=your-airbrake-project-id
# AIRBRAKE_PROJECT_KEY=your-airbrake-project-key

# 邮件配置
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_TLS=true

# 缓存配置
# CACHE_TYPE=redis
# CACHE_DEFAULT_TIMEOUT=300

# 任务队列配置
# TASK_QUEUE_NAME=aicg-platform
# TASK_ROUTES={"src.workers.video.*": {"queue": "video_processing"}}
# TASK_ROUTES={"src.workers.notification.*": {"queue": "notifications"}}